[package]
name = "revela"
description = "A cohesive user interface backend abstraction."
version = "0.1.0-wip"
edition = "2021"
rust-version = "1.76.0" # sync with readme, .github/workflows/check.yml
authors = ["Jos√© Luis Cruz <joseluis@andamira.net>"]
repository = "https://github.com/andamira/revela"
documentation = "https://docs.rs/revela"
license = "MIT OR Apache-2.0"
include = [
	"/Cargo.toml",
	"/README.md",
	"/LICENSE-*",
	"/src/**/*.rs",
	"/src/**/*.md",
]
categories = ["gui", "accesibility", "multimedia", "api-bindings", "no-std::no-alloc"]
keywords = ["terminal"]
publish = true

# ------------------------------------------------------------------------------
# Features are grouped in the following categories:
# - Miscellaneous
# - Environment
# - Safety
# - Nightly
# - Dependency

[features]

#* miscellaneous features *#

# default = [] # no default features
_exclude_example = [] # from testing

# enables the most complete version of the documentation:
docsrs = [ "nightly", "std", "unsafe" ]


#* environment features *#

std = [ # enables features that depend on the standard library
	"alloc",
	"devela/std",
]
alloc = [ # enables features that depend on allocation
	"devela/alloc",
]
no_std = [ # enables features incompatible with the standard library
	"devela/no_std",
]

#* safety features *#
safe = [] # forbids unsafe at the crate level
safest = [ # forbids unsafe recursively
	"safe",
	"devela/safe",
]
unsafe = [ # enables all the unsafe features at the crate level
	] # for specific purposes:
unsafest = [ # enables unsafe recursively
	"unsafe", "devela/unsafe",
]


#* nightly features *#

nightly = [ # enables nightly features
	"devela/nightly",
]


#* dependency features *#

all_std = [ # enables all the backends compatible with "std"
  	"std",
]
all_alloc = [ # enable all the backends compatible with "alloc"
  	"alloc",
]
all_no_std = [ # enable all the backends compatible with "no_std"
  	"no_std", "libc", "tiny-skia",
]


# ------------------------------------------------------------------------------

[dependencies]
#devela = "0.20.0"
devela = { "path" = "../devela" } # WIP


#* backends *#
#
## system
#
# terminal
#
# desktop
#
# graphics
#
# gamepads
#
# midi
#
# audio

[dev-dependencies]


# ------------------------------------------------------------------------------

[package.metadata.docs.rs]
no-default-features = true
features = ["docsrs"]

[badges]
maintenance = { status = "experimental" }

# ------------------------------------------------------------------------------

[profile.dev]
split-debuginfo = "packed"

[profile.release]
strip = "debuginfo"

[profile.no_std]
inherits = "dev"
lto = true
opt-level = "s" # "z"
panic = "abort"
# overflow-checks = true
# debug-assertions = true

[profile.no_std-release]
inherits = "release"
lto = true
opt-level = "s" # "z"
panic = "abort"
codegen-units = 1
strip = true
# overflow-checks = false
# debug-assertions = false
