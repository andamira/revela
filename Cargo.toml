[package]
name = "revela"
description = "A user interface abstracted over a selection of backends."
version = "0.0.1"
edition = "2021"
resolver = "2"
rust-version = "1.67.0"
authors = ["José Luis Cruz <joseluis@andamira.net>"]
repository = "https://github.com/andamira/revela"
documentation = "https://docs.rs/revela"
license = "MIT OR Apache-2.0"
include = [
	"/Cargo.toml",
	"/README.md",
	"/LICENSE-*",
	"/src/**/*.rs",
	"/examples/ui-notcurses.rs",
]
categories = ["gui"]
keywords = ["terminal"] # cli, web, …
publish = false

[dependencies]
bitflags = "1.3.2"
log = "0.4.17"
# paste = "1.0.11"
# static_assertions = "1.1.0"

## backends 

### terminal
notcurses = { version = "3.2.2", optional = true }
# notcurses = { path = "../../notcurses/notcurses-rs", optional = true }
# notcurses = { git = "https://github.com/dankamongmen/notcurses", optional = true }
# crossterm = { version = "0.25.0", optional = true }

### desktop
# sdl2 = { version = "0.35.2", optional = true, features = ["raw-window-handle", "gfx"] }
# macroquad = { version = "0.3.24", optional = true }
# tauri = { version = "1.2.4", optional = true }
# raw-window-handle = { version = "0.4.2", optional = true } # latest = 0.5, in sdl2 = 0.4.2

### graphics
acolor = { version = "0.0.4", default-features = false, features = ["rgb"] }
# png = "0.17.6"
# tiny-skia = { version = "0.8.2", optional = true }

### gamepads
gilrs = { version = "0.10.1", optional = true }

### midi
midir = { version = "0.9.1", optional = true, default-features = false  }
flume = { version = "0.10.14", optional = true, default-features = false }
midi-convert = { version = "0.1.1", default-features = false }

[features]
default = ["std", "safe"]
safe = ["acolor/safe"]
std = ["acolor/std"]
no-std = ["acolor/no-std"]
nightly = []

all_backends = ["notcurses", "gilrs", "midir"]
all_nostd_backends = []

midir = ["dep:midir", "std", "flume"]
notcurses = ["dep:notcurses", "std", "acolor/notcurses"]
# sdl2 = ["dep:sdl2", "acolor?/sdl2", "raw-window-handle"] # gpu

[badges]
maintenance = { status = "experimental" }

[package.metadata.docs.rs]
features = ["all_backends", "nightly"]

# [profile.release]
# strip = "debuginfo"
#
# [profile.dev]
# split-debuginfo = "packed"

[dev-dependencies]
depura = "0.0.2"
repite = "0.0.3"
espera = "0.0.3"

[[example]]
name = "ui-notcurses"
required-features = ["notcurses"]
